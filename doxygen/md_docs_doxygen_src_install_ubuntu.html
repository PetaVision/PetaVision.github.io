<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>PetaVision: Ubuntu Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="PetaVision"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PetaVision
   &#160;<span id="projectnumber">Alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_docs_doxygen_src_install_ubuntu.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Ubuntu Installation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page provides instructions for installing PetaVision on Ubuntu&#160;14.04 (Trusty Tahr), beginning with a clean installation of Ubuntu. You will need administrator privileges to run sudo.</p>
<h2>Required packages </h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get update</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;sudo apt-get dist-upgrade</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;sudo apt-get install bison cmake cmake-curses-gui flex gcc g++ git openmpi-bin libgdal-dev libopenmpi-dev openmpi-bin</div>
</div><!-- fragment --><h2>Optional packages </h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install lua5.2 # for using lua scripts to manage parameter files</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;sudo apt-get install octave octave-image # for using octave .m scripts in the analysis folder</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;echo pkg load all &gt;&gt; ~/.octaverc # loads octave image package etc. when starting octave.</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;sudo apt-get install gdb # Line debugger for gcc and g++</div>
</div><!-- fragment --><h2>CUDA and NVIDIA Driver (Optional) </h2>
<p>Our GPU acceleration depends on CUDA. While it is possible to build and run PetaVision without CUDA, performance will not be nearly as good.</p>
<p>To download CUDA, go to <a href="https://developer.nvidia.com/cuda-downloads">https://developer.nvidia.com/cuda-downloads</a>. Click the RUN file for your architecture and your version of Ubuntu. Note the location.</p>
<p>The version of the NVIDIA driver installed by CUDA may be behind the most recent driver version released by NVIDIA. If you want to use a more recent driver, you will need to install CUDA first, along with the driver that CUDA installs, and then upgrade the NVIDIA driver. If you want to use the most recent NVIDIA driver, go to <a href="http://www.nvidia.com/Download/index.aspx?lang=en-us">http://www.nvidia.com/Download/index.aspx?lang=en-us</a> and select your video card. Download the linux RUN file. Note the location.</p>
<p>NVIDIA drivers cannot be installed while the X window system is running. Here's how to install the drivers.</p>
<p>Enter a virtual console (usually by pressing control-alt-F1 or control-alt-fn-F1). Log into an account with admin privileges. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo service lightdm stop</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;chmod u+x path/to/cuda.run</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;sudo path/to/cuda.run</div>
</div><!-- fragment --><p>Follow the onscreen instructions. We have seen the warning "The distribution-provided pre-install script failed!" but it does not seem to cause problems if you continue.</p>
<p>When it asks if you want to install NVIDIA driver, select yes. Add a symbolic link to <code>/usr/local/cuda</code> when asked.</p>
<p>If you now want to upgrade the NVIDIA driver to a version downloaded above. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd path/to/driver.run</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;chmod u+x path/to/driver.run</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;./path/to/driver.run</div>
</div><!-- fragment --><p>Follow the instructions on the screen. When asked to uninstall the existing driver (installed by cuda), select yes. When asked to update your Xorg, select yes. This will use this driver as your GUI display.</p>
<p>Run <code>nvidia-smi</code> and make sure you see your video card.</p>
<p>Reboot.</p>
<h2>cuDNN (optional) </h2>
<p>You can optionally use the cuDNN Deep Neural Network Library, which provides additional speed-up in computing the convolutions we use to compute input to post-synaptic layers.</p>
<p>To download cuDNN, go to <a href="https://developer.nvidia.com/cuDNN">https://developer.nvidia.com/cuDNN</a> and click Download. If you haven't already registered with NVIDIA Developer you will need to do so, and then wait for email confirmation. Once registered, log into NVIDIA Developer and download the cuDNN Library for Linux. (Alternatively, if you have access to NMC's compneuro, grab it from <code>/nh/compneuro/Data/cuDNN</code>)</p>
<h2>Finalization </h2>
<p>Do one final update/upgrade for everything </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get update</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;sudo apt-get dist-upgrade</div>
</div><!-- fragment --><h2>Checking Out and Installing PetaVision </h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd ${HOME}</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;mkdir workspace</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cd workspace</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;git clone https://github.com/PetaVision/OpenPV</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ccmake .</div>
</div><!-- fragment --><p>CMake options: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;CMAKE_BUILD_TYPE = Release #Optimiztaion for CPU</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;PV_USE_CUDA = ON #Depending on if you want to use GPUS</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;CUDA_RELEASE = True #Optimization for Cuda</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;CUDNN = True #If you&#39;re using CUDNN</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;CUDNN_PATH = /path/to/cudnn/folder #The path to the cuDNN folder you downloaded/copied</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;PV_USE_OPENMP_THREADS = ON #Whether to use OpenMP threads for parallelization</div>
</div><!-- fragment --><p>If some of these options do not show up on ccmake, fill the ones you can, press c to configure, and look again for variables Press G to generate when avaliable.</p>
<p>Running the system tests:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd ~/workspace/PVSystemTest</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;make</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ctest</div>
</div><!-- fragment --><h2>Optional: Anaconda Python </h2>
<p>Ubuntu comes with python 2.7. We suggest installing Anaconda Python for analysis tools.</p><ul>
<li>Go to <a href="https://store.continuum.io/cshop/anaconda/">https://store.continuum.io/cshop/anaconda/</a></li>
<li>Enter your email</li>
<li>Click I WANT PYTHON 3.4</li>
<li>Click the linux penguin</li>
<li>Click the download link and save it</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;chmod u+x path/to/python.sh</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./path/to/python.sh</div>
</div><!-- fragment --><p>Follow the directions. Make sure to specify yes when it asks you if you want anaconda in your path.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;source ~/.bashrc</div>
</div><!-- fragment --><p>To ensure it's working, type python and make sure the text splash says <code>Python 3.4.1 |Anaconda 2.1</code> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
