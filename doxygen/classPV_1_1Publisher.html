<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PetaVision: PV::Publisher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PetaVision
   &#160;<span id="projectnumber">Alpha</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classPV_1_1Publisher.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">PV::Publisher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae2ab5e58e5941fa14fb299bd8d624651"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2ab5e58e5941fa14fb299bd8d624651"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Publisher</b> (<a class="el" href="classPV_1_1MPIBlock.html">MPIBlock</a> const &amp;mpiBlock, <a class="el" href="structPVLayerCube__.html">PVLayerCube</a> *cube, int numLevels, bool isSparse)</td></tr>
<tr class="separator:ae2ab5e58e5941fa14fb299bd8d624651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ef7004c531c739a280a8ae00c36ab4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29ef7004c531c739a280a8ae00c36ab4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>checkpointDataStore</b> (<a class="el" href="classPV_1_1Checkpointer.html">Checkpointer</a> *checkpointer, char const *objectName, char const *bufferName)</td></tr>
<tr class="separator:a29ef7004c531c739a280a8ae00c36ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7112570f86ba629846478f70baa75738"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPV_1_1Publisher.html#a7112570f86ba629846478f70baa75738">copyForward</a> (double lastUpdateTime)</td></tr>
<tr class="separator:a7112570f86ba629846478f70baa75738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774cd7c66353e2ecc113048ba3754e19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPVLayerCube__.html">PVLayerCube</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPV_1_1Publisher.html#a774cd7c66353e2ecc113048ba3754e19">createCube</a> (int delay=0)</td></tr>
<tr class="separator:a774cd7c66353e2ecc113048ba3754e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412d3cdb40506e5ff25c3e8dd08930d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a412d3cdb40506e5ff25c3e8dd08930d2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>exchangeBorders</b> (const <a class="el" href="structPVLayerLoc__.html">PVLayerLoc</a> *loc, int delay=0)</td></tr>
<tr class="separator:a412d3cdb40506e5ff25c3e8dd08930d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80407a9ceb18a61c3d1ccaf379e55c26"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80407a9ceb18a61c3d1ccaf379e55c26"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>increaseTimeLevel</b> ()</td></tr>
<tr class="separator:a80407a9ceb18a61c3d1ccaf379e55c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2488a8dbe429f6e5d3696b255442c9ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2488a8dbe429f6e5d3696b255442c9ce"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>isExchangeFinished</b> (int delay=0)</td></tr>
<tr class="separator:a2488a8dbe429f6e5d3696b255442c9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab17ca30ec01a0d71b7775430b6ab7299"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPV_1_1Publisher.html#ab17ca30ec01a0d71b7775430b6ab7299">publish</a> (double lastUpdateTime)</td></tr>
<tr class="separator:ab17ca30ec01a0d71b7775430b6ab7299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31cb9bfdae1a562375a7bcc3c3909662"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31cb9bfdae1a562375a7bcc3c3909662"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>updateActiveIndices</b> (int delay=0)</td></tr>
<tr class="separator:a31cb9bfdae1a562375a7bcc3c3909662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b47dd80f6f06c8c9ef8be0efe2bc51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55b47dd80f6f06c8c9ef8be0efe2bc51"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>updateAllActiveIndices</b> ()</td></tr>
<tr class="separator:a55b47dd80f6f06c8c9ef8be0efe2bc51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fdc583f793a95583d3a06789bebb96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPV_1_1Publisher.html#a30fdc583f793a95583d3a06789bebb96">wait</a> (int delay=0)</td></tr>
<tr class="separator:a30fdc583f793a95583d3a06789bebb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abb7110911d142769f44c365be2bc8977"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb7110911d142769f44c365be2bc8977"></a>
<a class="el" href="classPV_1_1SparseList.html">SparseList</a>&lt; float &gt;::Entry *&#160;</td><td class="memItemRight" valign="bottom"><b>recvActiveIndicesBuffer</b> (int bufferId)</td></tr>
<tr class="separator:abb7110911d142769f44c365be2bc8977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39a6fb87ecb0d78a51e4fb2bb6e70dcc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39a6fb87ecb0d78a51e4fb2bb6e70dcc"></a>
<a class="el" href="classPV_1_1SparseList.html">SparseList</a>&lt; float &gt;::Entry *&#160;</td><td class="memItemRight" valign="bottom"><b>recvActiveIndicesBuffer</b> (int bufferId, int delay)</td></tr>
<tr class="separator:a39a6fb87ecb0d78a51e4fb2bb6e70dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079731a47535e3ab2aa0c918855829b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a079731a47535e3ab2aa0c918855829b2"></a>
float *&#160;</td><td class="memItemRight" valign="bottom"><b>recvBuffer</b> (int bufferId)</td></tr>
<tr class="separator:a079731a47535e3ab2aa0c918855829b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07411c68e62b27d7a6068f3204ea0c41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07411c68e62b27d7a6068f3204ea0c41"></a>
float *&#160;</td><td class="memItemRight" valign="bottom"><b>recvBuffer</b> (int bufferId, int delay)</td></tr>
<tr class="separator:a07411c68e62b27d7a6068f3204ea0c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2e3a2366997f0bf1c0431a333620da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb2e3a2366997f0bf1c0431a333620da"></a>
long *&#160;</td><td class="memItemRight" valign="bottom"><b>recvNumActiveBuffer</b> (int bufferId)</td></tr>
<tr class="separator:afb2e3a2366997f0bf1c0431a333620da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef082b5766976e3bf915f4a49d416d84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef082b5766976e3bf915f4a49d416d84"></a>
long *&#160;</td><td class="memItemRight" valign="bottom"><b>recvNumActiveBuffer</b> (int bufferId, int delay)</td></tr>
<tr class="separator:aef082b5766976e3bf915f4a49d416d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a29a8e535b1fc4ce77eea193718184e54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29a8e535b1fc4ce77eea193718184e54"></a>
<a class="el" href="classPV_1_1BorderExchange.html">BorderExchange</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mBorderExchanger</b> = nullptr</td></tr>
<tr class="separator:a29a8e535b1fc4ce77eea193718184e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a1fb9c51cd054e3f2717b8f286c77b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24a1fb9c51cd054e3f2717b8f286c77b"></a>
<a class="el" href="structPVLayerCube__.html">PVLayerCube</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>mLayerCube</b></td></tr>
<tr class="separator:a24a1fb9c51cd054e3f2717b8f286c77b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c676e2e2d40d0ccdc284fd6e903d9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71c676e2e2d40d0ccdc284fd6e903d9e"></a>
<a class="el" href="classPV_1_1RingBuffer.html">RingBuffer</a>&lt; std::vector&lt; MPI_Request &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>mpiRequestsBuffer</b> = nullptr</td></tr>
<tr class="separator:a71c676e2e2d40d0ccdc284fd6e903d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0399e20f18080fcf72784d14916026e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0399e20f18080fcf72784d14916026e4"></a>
MPI_Datatype *&#160;</td><td class="memItemRight" valign="bottom"><b>neighborDatatypes</b></td></tr>
<tr class="separator:a0399e20f18080fcf72784d14916026e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af651cf78a2f63a78d6c6191375a90945"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af651cf78a2f63a78d6c6191375a90945"></a>
<a class="el" href="classPV_1_1DataStore.html">DataStore</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>store</b></td></tr>
<tr class="separator:af651cf78a2f63a78d6c6191375a90945"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Publisher_8hpp_source.html#l00021">21</a> of file <a class="el" href="Publisher_8hpp_source.html">Publisher.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7112570f86ba629846478f70baa75738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PV::Publisher::copyForward </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lastUpdateTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Keeps the data store in sync if the time advances but the data doesn't change. If the number of levels is greater than one, copy the previous level to the current level; otherwise do nothing. Using this instead of <a class="el" href="classPV_1_1Publisher.html#ab17ca30ec01a0d71b7775430b6ab7299">publish()</a> avoids an unnecessary border exchange. </p>

<p>Definition at line <a class="el" href="Publisher_8cpp_source.html#l00101">101</a> of file <a class="el" href="Publisher_8cpp_source.html">Publisher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a774cd7c66353e2ecc113048ba3754e19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPVLayerCube__.html">PVLayerCube</a> PV::Publisher::createCube </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delay</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>creates a PVLayerCube pointing to the data in the data store at the given delay. This method blocks until any pending border exchange for that delay level are completed. </p>

<p>Definition at line <a class="el" href="Publisher_8cpp_source.html#l00060">60</a> of file <a class="el" href="Publisher_8cpp_source.html">Publisher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab17ca30ec01a0d71b7775430b6ab7299"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PV::Publisher::publish </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lastUpdateTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copies the data from the cube to the top level of the data store, and exchanges the border. </p>

<p>Definition at line <a class="el" href="Publisher_8cpp_source.html#l00077">77</a> of file <a class="el" href="Publisher_8cpp_source.html">Publisher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a30fdc583f793a95583d3a06789bebb96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PV::Publisher::wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>delay</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>wait until all outstanding published messages have arrived </p>

<p>Definition at line <a class="el" href="Publisher_8cpp_source.html#l00166">166</a> of file <a class="el" href="Publisher_8cpp_source.html">Publisher.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>OpenPV/src/columns/<a class="el" href="Publisher_8hpp_source.html">Publisher.hpp</a></li>
<li>OpenPV/src/columns/<a class="el" href="Publisher_8cpp_source.html">Publisher.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>PV</b></li><li class="navelem"><a class="el" href="classPV_1_1Publisher.html">Publisher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
